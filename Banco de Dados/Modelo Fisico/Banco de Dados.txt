CREATE DATABASE farmacia;
USE farmacia;

CREATE TABLE Medicamentos (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255) NOT NULL,
dosagem VARCHAR(255) NOT NULL,
quantidade INT NOT NULL,
preco FLOAT NOT NULL
);

CREATE TABLE Fornecedores (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255) NOT NULL,
cnpj VARCHAR(255) NOT NULL,
endereco VARCHAR(255) NOT NULL
);

CREATE TABLE Funcionarios (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255) NOT NULL,
cpf VARCHAR(255) NOT NULL,
endereco VARCHAR(255) NOT NULL,
telefone VARCHAR(255) NOT NULL,
cargo VARCHAR(255) NOT NULL
);

CREATE TABLE Convenios (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(255) NOT NULL,
desconto FLOAT NOT NULL,
telefone VARCHAR(255) NOT NULL
);

CREATE TABLE Compras (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
id_fornecedor INT NOT NULL,
id_funcionario INT NOT NULL,
data DATE NOT NULL,
FOREIGN KEY (id_fornecedor) REFERENCES Fornecedores(id),
FOREIGN KEY (id_funcionario) REFERENCES Funcionarios(id)
);

CREATE TABLE Vendas (
id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
id_medicamento INT NOT NULL,
id_funcionario INT NOT NULL,
id_convenio INT NOT NULL,
data DATE NOT NULL,
valor FLOAT NOT NULL,
FOREIGN KEY (id_medicamento) REFERENCES Medicamentos(id),
FOREIGN KEY (id_funcionario) REFERENCES Funcionarios(id),
FOREIGN KEY (id_convenio) REFERENCES Convenios(id)
);